{"ast":null,"code":"const express = require(\"express\");\nconst router = express.Router();\nconst User = require(\"../models/User\");\nrouter.get(\"/\", async (req, res) => {\n  console.log(\"Find All Users\");\n  try {\n    const result = await User.find();\n    res.json({\n      rows: result\n    });\n  } catch (error) {\n    res.status(404).json({\n      err: error\n    });\n  }\n});\nrouter.get(\"/:id\", async (req, res) => {\n  console.log(\"Find All Users\");\n  try {\n    var _req$params;\n    const result = await User.findById(req === null || req === void 0 ? void 0 : (_req$params = req.params) === null || _req$params === void 0 ? void 0 : _req$params.id);\n    res.json(result);\n  } catch (error) {\n    res.status(404).json({\n      err: error\n    });\n  }\n});\nrouter.post(\"/\", async (req, res) => {\n  console.log(\"Create User Body\", req.body);\n  const newUser = new User(req.body);\n  try {\n    await newUser.save({});\n    res.status(201).json(newUser);\n  } catch (error) {\n    res.status(400).json({\n      err: error\n    });\n  }\n});\nrouter.delete(\"/:id\", async (req, res) => {\n  console.log(\"Delete Users\");\n  try {\n    var _req$params2;\n    const result = await User.findByIdAndDelete(req === null || req === void 0 ? void 0 : (_req$params2 = req.params) === null || _req$params2 === void 0 ? void 0 : _req$params2.id);\n    res.status(204).json(result);\n  } catch (error) {\n    res.status(404).json({\n      err: error\n    });\n  }\n});\nrouter.put(\"/user/:id\", async (req, res) => {\n  const userId = req.params.id;\n  const updateData = req.body;\n  try {\n    const updatedUser = await User.findByIdAndUpdate(userId, updateData, {\n      new: true\n    });\n    if (!updatedUser) {\n      return res.status(404).json({\n        message: \"User not found\"\n      });\n    }\n    res.json(updatedUser);\n  } catch (error) {\n    res.status(400).json({\n      err: error\n    });\n  }\n});\nmodule.exports = router;","map":{"version":3,"names":["express","require","router","Router","User","get","req","res","console","log","result","find","json","rows","error","status","err","_req$params","findById","params","id","post","body","newUser","save","delete","_req$params2","findByIdAndDelete","put","userId","updateData","updatedUser","findByIdAndUpdate","new","message","module","exports"],"sources":["C:/Users/thany/OneDrive/Documents/GitHub/coopwu_Nang/04-Basic Express Backend/frontend/src/App.js"],"sourcesContent":["const express = require(\"express\");\r\nconst router = express.Router();\r\nconst User = require(\"../models/User\");\r\n\r\nrouter.get(\"/\", async (req, res) => {\r\n  console.log(\"Find All Users\");\r\n  try {\r\n    const result = await User.find();\r\n    res.json({ rows: result });\r\n  } catch (error) {\r\n    res.status(404).json({ err: error });\r\n  }\r\n});\r\n\r\nrouter.get(\"/:id\", async (req, res) => {\r\n  console.log(\"Find All Users\");\r\n  try {\r\n    const result = await User.findById(req?.params?.id);\r\n    res.json(result);\r\n  } catch (error) {\r\n    res.status(404).json({ err: error });\r\n  }\r\n});\r\n\r\nrouter.post(\"/\", async (req, res) => {\r\n  console.log(\"Create User Body\", req.body);\r\n  const newUser = new User(req.body);\r\n  try {\r\n    await newUser.save({});\r\n    res.status(201).json(newUser);\r\n  } catch (error) {\r\n    res.status(400).json({ err: error });\r\n  }\r\n});\r\nrouter.delete(\"/:id\", async (req, res) => {\r\n  console.log(\"Delete Users\");\r\n  try {\r\n    const result = await User.findByIdAndDelete(req?.params?.id);\r\n    res.status(204).json(result);\r\n  } catch (error) {\r\n    res.status(404).json({ err: error });\r\n  }\r\n});\r\n\r\nrouter.put(\"/user/:id\", async (req, res) => {\r\n  const userId = req.params.id;\r\n  const updateData = req.body;\r\n  try {\r\n    const updatedUser = await User.findByIdAndUpdate(userId, updateData, { new: true });\r\n    if (!updatedUser) {\r\n      return res.status(404).json({ message: \"User not found\" });\r\n    }\r\n    res.json(updatedUser);\r\n  } catch (error) {\r\n    res.status(400).json({ err: error });\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}